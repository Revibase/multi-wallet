/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  combineCodec,
  getStructDecoder,
  getStructEncoder,
  getU8Decoder,
  getU8Encoder,
  type FixedSizeCodec,
  type FixedSizeDecoder,
  type FixedSizeEncoder,
} from "gill";

/**
 * Extension indicating the account belongs to a mint with transfer hook.
 * Contains a `transferring` flag used as a reentrancy guard during hook CPI.
 * Consistent with SPL Token-2022 TransferHookAccount layout.
 */
export type TransferHookAccountExtension = {
  /**
   * Flag to indicate that the account is in the middle of a transfer.
   * Used as reentrancy guard when transfer hook program is called via CPI.
   * Always false at rest since we only support nil program_id (no hook invoked).
   */
  transferring: number;
};

export type TransferHookAccountExtensionArgs = TransferHookAccountExtension;

export function getTransferHookAccountExtensionEncoder(): FixedSizeEncoder<TransferHookAccountExtensionArgs> {
  return getStructEncoder([["transferring", getU8Encoder()]]);
}

export function getTransferHookAccountExtensionDecoder(): FixedSizeDecoder<TransferHookAccountExtension> {
  return getStructDecoder([["transferring", getU8Decoder()]]);
}

export function getTransferHookAccountExtensionCodec(): FixedSizeCodec<
  TransferHookAccountExtensionArgs,
  TransferHookAccountExtension
> {
  return combineCodec(
    getTransferHookAccountExtensionEncoder(),
    getTransferHookAccountExtensionDecoder(),
  );
}
